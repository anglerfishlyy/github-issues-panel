{"version":3,"file":"module.js","mappings":"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","sources":["webpack://kavyalegitimate-githubissues-panel/external amd \"@grafana/ui\"","webpack://kavyalegitimate-githubissues-panel/external amd \"@grafana/data\"","webpack://kavyalegitimate-githubissues-panel/external amd \"react\"","webpack://kavyalegitimate-githubissues-panel/webpack/bootstrap","webpack://kavyalegitimate-githubissues-panel/webpack/runtime/compat get default export","webpack://kavyalegitimate-githubissues-panel/webpack/runtime/define property getters","webpack://kavyalegitimate-githubissues-panel/webpack/runtime/hasOwnProperty shorthand","webpack://kavyalegitimate-githubissues-panel/webpack/runtime/make namespace object","webpack://kavyalegitimate-githubissues-panel/./module.tsx"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__781__;","module.exports = __WEBPACK_EXTERNAL_MODULE__959__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useEffect, useState } from 'react';\nimport { PanelProps, PanelPlugin } from '@grafana/data';\nimport { Badge, Spinner } from '@grafana/ui';\n\ntype IssueLabel = { name: string };\ntype Issue = {\n  id: number;\n  number: number;\n  title: string;\n  state: 'open' | 'closed';\n  html_url: string;\n  labels?: IssueLabel[];\n  updated_at: string;\n  pull_request?: unknown;\n};\n\nexport interface Options {\n  owner: string;\n  repo: string;\n  state: 'open' | 'closed' | 'all';\n  labels: string;      // comma-separated\n  perPage: number;     // 1-50\n}\n\nconst Panel: React.FC<PanelProps<Options>> = ({ options, height }) => {\n  const [issues, setIssues] = useState<Issue[] | null>(null);\n  const [err, setErr] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const { owner, repo, state, labels, perPage } = options;\n    if (!owner || !repo) {\n      setIssues(null);\n      setErr(null); // Fix: clear error if owner/repo not set\n      setLoading(false); // Fix: clear loading if owner/repo not set\n      return;\n    }\n    const params = new URLSearchParams();\n    params.set('state', state || 'open');\n    if (labels) { params.set('labels', labels); }\n    params.set('per_page', String(perPage || 10));\n\n    setLoading(true);\n    setErr(null);\n\n    fetch(`https://api.github.com/repos/${owner}/${repo}/issues?${params.toString()}`, {\n      headers: {\n        'Accept': 'application/vnd.github+json',\n        'X-GitHub-Api-Version': '2022-11-28',\n      },\n    })\n      .then(async (r) => {\n        if (!r.ok) {\n          throw new Error(`GitHub API ${r.status}: ${await r.text()}`);\n        }\n        return r.json();\n      })\n      .then((data: Issue[]) => {\n        // Filter out PRs (issues endpoint mixes both)\n        setIssues(data.filter(i => !i.pull_request));\n      })\n      .catch(e => setErr(e.message))\n      .finally(() => setLoading(false));\n  }, [options, options.owner, options.repo, options.state, options.labels, options.perPage]);\n\n  if (!options.owner || !options.repo) {\n    return <div style={{ padding: 12 }}>Set <b>Owner</b> and <b>Repository</b> in panel options.</div>;\n  }\n  if (loading) {\n    return <div style={{ padding: 12 }}><Spinner /></div>;\n  }\n  if (err) {\n    return <div style={{ padding: 12, color: 'var(--error-text)' }}>Error: {err}</div>;\n  }\n  if (!issues?.length) {\n    return <div style={{ padding: 12 }}>No issues found.</div>;\n  }\n\n  return (\n    <div style={{ padding: 12, overflowY: 'auto', height }}>\n      {issues.map(issue => (\n        <div key={issue.id} style={{ marginBottom: 10, border: '1px solid var(--border-weak)', borderRadius: 8, padding: 8 }}>\n          <div style={{ fontWeight: 600 }}>#{issue.number} · {issue.title}</div>\n          <div style={{ display: 'flex', gap: 6, flexWrap: 'wrap', marginTop: 4 }}>\n            {issue.labels?.map(l => <Badge key={l.name} text={l.name} color=\"blue\" />)}\n          </div>\n          <div style={{ marginTop: 4, fontSize: 12 }}>\n            <a href={issue.html_url} target=\"_blank\" rel=\"noreferrer\">Open on GitHub</a>\n            {' · '}Updated {new Date(issue.updated_at).toLocaleString()}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport const plugin = new PanelPlugin<Options>(Panel).setPanelOptions(builder => {\n  return builder\n    .addTextInput({\n      path: 'owner',\n      name: 'Owner/Org',\n      description: 'e.g. grafana',\n      defaultValue: 'grafana',\n    })\n    .addTextInput({\n      path: 'repo',\n      name: 'Repository',\n      description: 'e.g. grafana',\n      defaultValue: 'grafana',\n    })\n    .addRadio({\n      path: 'state',\n      name: 'Issue state',\n      defaultValue: 'open',\n      settings: {\n        options: [\n          { value: 'open', label: 'Open' },\n          { value: 'closed', label: 'Closed' },\n          { value: 'all', label: 'All' },\n        ],\n      },\n    })\n    .addTextInput({\n      path: 'labels',\n      name: 'Labels (comma-separated)',\n      defaultValue: '',\n    })\n    .addNumberInput({\n      path: 'perPage',\n      name: 'Max items',\n      defaultValue: 10,\n      settings: { min: 1, max: 50, integer: true },\n    });\n  });\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__781__","__WEBPACK_EXTERNAL_MODULE__959__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","plugin","PanelPlugin","options","height","issues","setIssues","useState","err","setErr","loading","setLoading","useEffect","owner","repo","state","labels","perPage","params","URLSearchParams","set","String","fetch","toString","headers","then","ok","Error","status","text","json","data","filter","i","pull_request","catch","e","message","finally","div","style","padding","Spinner","color","length","overflowY","map","issue","id","marginBottom","border","borderRadius","fontWeight","number","title","display","gap","flexWrap","marginTop","l","Badge","name","fontSize","href","html_url","target","rel","Date","updated_at","toLocaleString","b","setPanelOptions","builder","addTextInput","path","description","defaultValue","addRadio","settings","label","addNumberInput","min","max","integer"],"sourceRoot":""}